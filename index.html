<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¼ Real-Time Baby Cry Detection</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>ğŸ¼ Real-Time Baby Cry Detection</h1>
                <div class="server-status" id="serverStatus">
                    <span class="status-dot"></span>
                    <span class="status-text">Connecting...</span>
                </div>
            </div>
        </header>

        <!-- Audio Capture Section -->
        <section class="card audio-capture-section">
            <h2>ğŸ¤ Live Audio Monitoring</h2>
            <div class="audio-controls">
                <button id="startAudioBtn" class="btn-audio start">
                    ğŸ¤ Start Listening
                </button>
                <button id="stopAudioBtn" class="btn-audio stop" disabled>
                    â¹ï¸ Stop Listening
                </button>
                <div class="audio-status" id="audioStatus">
                    <span class="status-indicator"></span>
                    <span class="status-text">Not listening</span>
                </div>
            </div>
            <div class="audio-visualizer">
                <canvas id="audioCanvas" width="800" height="100"></canvas>
            </div>
            <div class="audio-info" id="audioInfo">
                <p>Click "Start Listening" to begin real-time cry detection from your microphone</p>
            </div>
        </section>

        <!-- Cry Detection Results -->
        <section class="card cry-detection-card-large" id="cryDetectionCard">
            <h2>ğŸ”Š Cry Analysis Results</h2>
            <div class="cry-status-display-large">
                <div class="cry-icon-large" id="cryIcon">â“</div>
                <div class="cry-details-large">
                    <h3 id="cryType">Waiting for audio...</h3>
                    <div class="cry-meta-large">
                        <div class="meta-item-large">
                            <span class="meta-label">Status:</span>
                            <span class="meta-value status-badge" id="cryStatus">Normal</span>
                        </div>
                        <div class="meta-item-large">
                            <span class="meta-label">Confidence:</span>
                            <span class="meta-value" id="cryConfidence">0%</span>
                        </div>
                        <div class="meta-item-large">
                            <span class="meta-label">Intensity:</span>
                            <span class="meta-value" id="cryIntensity">0/100</span>
                        </div>
                        <div class="meta-item-large">
                            <span class="meta-label">Last Detected:</span>
                            <span class="meta-value" id="cryLastDetected">-</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="progress-bar-large">
                <div class="progress-label">Cry Intensity</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="cryIntensityBar"></div>
                </div>
            </div>
        </section>

        <!-- Cry History -->
        <section class="card alerts-card">
            <h2>ğŸ“‹ Recent Cry Detections</h2>
            <div class="alerts-list" id="alertsList">
                <p class="no-alerts">No cry patterns detected yet. Start listening to begin.</p>
            </div>
        </section>

        <!-- Feedback Section -->
        <section class="card feedback-section">
            <h2>ğŸ’¬ Provide Feedback</h2>
            <p class="feedback-description">Help improve accuracy by confirming or correcting the cry type</p>
            <form id="feedbackForm" class="feedback-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="predictedType">System Detected:</label>
                        <select id="predictedType" name="predictedType" required>
                            <option value="hunger">ğŸ¼ Hunger</option>
                            <option value="sleep_discomfort">ğŸ˜´ Sleep Discomfort</option>
                            <option value="pain_distress">âš ï¸ Pain/Distress</option>
                            <option value="diaper_change">ğŸ§· Diaper Change</option>
                            <option value="normal_unknown">â“ Unknown</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="actualType">Actual Cry Type:</label>
                        <select id="actualType" name="actualType" required>
                            <option value="hunger">ğŸ¼ Hunger</option>
                            <option value="sleep_discomfort">ğŸ˜´ Sleep Discomfort</option>
                            <option value="pain_distress">âš ï¸ Pain/Distress</option>
                            <option value="diaper_change">ğŸ§· Diaper Change</option>
                            <option value="normal_unknown">â“ Unknown</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn-submit" id="submitBtn">
                    Submit Feedback
                </button>
                <div id="feedbackMessage" class="feedback-message"></div>
            </form>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>ğŸ¤ Real-time cry pattern analysis from microphone</p>
            <p>Last Analysis: <span id="lastUpdate">-</span></p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
